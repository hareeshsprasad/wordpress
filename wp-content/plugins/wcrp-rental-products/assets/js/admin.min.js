jQuery(document).ready((function(e){const{__:t,_x:r,_n:n,_nx:_,sprintf:a}=wp.i18n;function s(){var t=e("#_wcrp_rental_products_pricing_type").val(),r=e("#_wcrp_rental_products_pricing_period").val();r=parseInt(""==r?e("#_wcrp_rental_products_pricing_period").attr("data-default"):r),"fixed"==t?(e("#wcrp-rental-products-panel-field-description-pricing-type-period-selection").hide(),e("#_wcrp_rental_products_pricing_period").val("1"),e("._wcrp_rental_products_pricing_period_field").hide(),e("#_wcrp_rental_products_pricing_period_multiples").prop("checked",!1),e("._wcrp_rental_products_pricing_period_multiples_field").hide(),e("._wcrp_rental_products_pricing_period_multiples_maximum_field").hide(),e("._wcrp_rental_products_pricing_period_additional_selections_field").hide(),e("._wcrp_rental_products_pricing_tiers_field").show(),e("#_wcrp_rental_products_price_additional_periods_percent").prop("checked",!1),e("._wcrp_rental_products_price_additional_periods_percent_field").hide(),e("._wcrp_rental_products_price_additional_period_percent_field").hide(),e("._wcrp_rental_products_total_overrides_field").show(),e("._wcrp_rental_products_minimum_days_field").show(),e("._wcrp_rental_products_maximum_days_field").show()):"period"==t?(e("#wcrp-rental-products-panel-field-description-pricing-type-period-selection").hide(),e("._wcrp_rental_products_pricing_period_field").show(),r>1?(e("#_wcrp_rental_products_pricing_period_multiples").is(":checked")?(e("._wcrp_rental_products_pricing_period_multiples_maximum_field").show(),e("._wcrp_rental_products_pricing_tiers_field").show(),e("._wcrp_rental_products_price_additional_periods_percent_field").show(),e("#_wcrp_rental_products_price_additional_periods_percent").is(":checked")?e("._wcrp_rental_products_price_additional_period_percent_field").show():e("._wcrp_rental_products_price_additional_period_percent_field").hide()):(e("._wcrp_rental_products_pricing_period_multiples_maximum_field").hide(),e("#_wcrp_rental_products_pricing_tiers").prop("checked",!1),e("._wcrp_rental_products_pricing_tiers_field").hide(),e("#_wcrp_rental_products_price_additional_periods_percent").prop("checked",!1),e("._wcrp_rental_products_price_additional_periods_percent_field").hide(),e("._wcrp_rental_products_price_additional_period_percent_field").hide()),e("._wcrp_rental_products_pricing_period_multiples_field").show(),e("._wcrp_rental_products_pricing_period_additional_selections_field").hide(),e("._wcrp_rental_products_total_overrides_field").show(),e("#_wcrp_rental_products_minimum_days").val(r),e("._wcrp_rental_products_minimum_days_field").hide(),e("#_wcrp_rental_products_maximum_days").val(r),e("._wcrp_rental_products_maximum_days_field").hide()):(e("#_wcrp_rental_products_pricing_period_multiples").prop("checked",!1),e("._wcrp_rental_products_pricing_period_multiples_field").hide(),e("._wcrp_rental_products_pricing_period_multiples_maximum_field").hide(),e("._wcrp_rental_products_pricing_period_additional_selections_field").hide(),e("._wcrp_rental_products_pricing_tiers_field").show(),e("._wcrp_rental_products_price_additional_periods_percent_field").show(),e("#_wcrp_rental_products_price_additional_periods_percent").is(":checked")?e("._wcrp_rental_products_price_additional_period_percent_field").show():e("._wcrp_rental_products_price_additional_period_percent_field").hide(),e("._wcrp_rental_products_total_overrides_field").show(),e("._wcrp_rental_products_minimum_days_field").show(),e("._wcrp_rental_products_maximum_days_field").show())):"period_selection"==t&&(e("#wcrp-rental-products-panel-field-description-pricing-type-period-selection").show(),e("._wcrp_rental_products_pricing_period_field").show(),e("#_wcrp_rental_products_pricing_period_multiples").prop("checked",!1),e("._wcrp_rental_products_pricing_period_multiples_field").hide(),e("._wcrp_rental_products_pricing_period_multiples_maximum_field").hide(),e("._wcrp_rental_products_pricing_period_additional_selections_field").show(),e("#_wcrp_rental_products_pricing_tiers").prop("checked",!1),e("._wcrp_rental_products_pricing_tiers_field").hide(),e("#_wcrp_rental_products_price_additional_periods_percent").prop("checked",!1),e("._wcrp_rental_products_price_additional_periods_percent_field").hide(),e("._wcrp_rental_products_price_additional_period_percent_field").hide(),e("._wcrp_rental_products_total_overrides_field").hide(),e("#_wcrp_rental_products_minimum_days").val(r),e("._wcrp_rental_products_minimum_days_field").hide(),e("#_wcrp_rental_products_maximum_days").val(r),e("._wcrp_rental_products_maximum_days_field").hide()),e("#_wcrp_rental_products_pricing_tiers").is(":checked")?e("#wcrp-rental-products-pricing-tiers-data-expand").show():e("#wcrp-rental-products-pricing-tiers-data-expand").hide()}function c(){e("#_wcrp_rental_products_pricing_tiers").is(":checked")?e("#wcrp-rental-products-pricing-tiers-data-expand").show():e("#wcrp-rental-products-pricing-tiers-data-expand").hide()}function i(){e("#wcrp-rental-products-pricing-tiers-data div").each((function(t){0==t?e(this).find(".wcrp-rental-products-pricing-tiers-data-remove-pricing-tier").hide():e(this).find(".wcrp-rental-products-pricing-tiers-data-remove-pricing-tier").show(),e(this).find(".wcrp-rental-products-pricing-tiers-data-days").attr("id","wcrp-rental-products-pricing-tiers-data-days-"+t),e(this).find(".wcrp-rental-products-pricing-tiers-data-days-label").attr("for","wcrp-rental-products-pricing-tiers-data-days-"+t),e(this).find(".wcrp-rental-products-pricing-tiers-data-percent").attr("id","wcrp-rental-products-pricing-tiers-data-percent-"+t),e(this).find(".wcrp-rental-products-pricing-tiers-data-percent-label").attr("for","wcrp-rental-products-pricing-tiers-data-percent-"+t)}))}function o(){e("#_wcrp_rental_products_in_person_pick_up_return").is(":checked")?("default"==e("#_wcrp_rental_products_in_person_return_date").val()?(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field .wcrp-rental-products-panel-field-label-description").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field .wcrp-rental-products-panel-field-label-description").show(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field .wcrp-rental-products-panel-field-label-description").show(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field .wcrp-rental-products-panel-field-label-description").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_next_day_field .wcrp-rental-products-panel-field-label-description").show(),e("._wcrp_rental_products_in_person_return_times_fees_next_day_field .wcrp-rental-products-panel-field-label-description").show()):(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field .wcrp-rental-products-panel-field-label-description").hide(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field .wcrp-rental-products-panel-field-label-description").hide(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field .wcrp-rental-products-panel-field-label-description").hide(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field .wcrp-rental-products-panel-field-label-description").hide(),e("._wcrp_rental_products_in_person_pick_up_times_fees_next_day_field .wcrp-rental-products-panel-field-label-description").hide(),e("._wcrp_rental_products_in_person_return_times_fees_next_day_field .wcrp-rental-products-panel-field-label-description").hide()),"same_day"==e("#_wcrp_rental_products_in_person_return_date").val()?(e("._wcrp_rental_products_in_person_pick_up_times_fees_next_day_field").hide(),e("._wcrp_rental_products_in_person_return_times_fees_next_day_field").hide(),""==e("#_wcrp_rental_products_pricing_period").val()||""==e("#_wcrp_rental_products_minimum_days").val()||""==e("#_wcrp_rental_products_maximum_days").val()?(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field").show()):"period_selection"==e("#_wcrp_rental_products_pricing_type").val()?"1"==e("#_wcrp_rental_products_pricing_period").val()?(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field").show()):(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field").hide(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field").hide()):"1"==e("#_wcrp_rental_products_minimum_days").val()?"1"!==e("#_wcrp_rental_products_maximum_days").val()?(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field").show()):(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field").hide(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field").hide(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field").show()):(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field").hide(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field").hide())):"next_day"==e("#_wcrp_rental_products_in_person_return_date").val()?(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field").hide(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field").hide(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field").hide(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field").hide(),e("._wcrp_rental_products_in_person_pick_up_times_fees_next_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_next_day_field").show()):(e("._wcrp_rental_products_in_person_pick_up_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_same_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_single_day_same_day_field").show(),e("._wcrp_rental_products_in_person_pick_up_times_fees_next_day_field").show(),e("._wcrp_rental_products_in_person_return_times_fees_next_day_field").show()),e("#_wcrp_rental_products_return_days_threshold").val("0"),e("._wcrp_rental_products_return_days_threshold_field").hide(),e("#wcrp-rental-products-in-person-pick-up-return-expand").show()):(e("._wcrp_rental_products_return_days_threshold_field").show(),e("#wcrp-rental-products-in-person-pick-up-return-expand").hide())}function p(){e("#_wcrp_rental_products_disable_addons_rental_purchase_rental").is(":checked")||e("#_wcrp_rental_products_disable_addons_rental_purchase_purchase").is(":checked")?e("#wcrp-rental-products-panel-field-notice-disable-addons-rental-purchase").show():e("#wcrp-rental-products-panel-field-notice-disable-addons-rental-purchase").hide()}function d(){"simple"!==e("#product-type").val()?(e("#wcrp-rental-products-rental-price-shortcut").html('<a href="#variable" class="button button-small">'+t("Set in variations tab","wcrp-rental-products")+"</a>"),e("#wcrp-rental-products-rental-stock-shortcut").html('<a href="#variable" class="button button-small">'+t("Set in variations tab","wcrp-rental-products")+"</a>")):(e("#wcrp-rental-products-rental-price-shortcut").html('<a href="#general" class="button button-small">'+t("Set in general tab","wcrp-rental-products")+"</a>"),e("#wcrp-rental-products-rental-stock-shortcut").html('<a href="#inventory" class="button button-small">'+t("Set in inventory tab","wcrp-rental-products")+"</a>"))}function l(){e("#wcrp-rental-products-rentals-calendar .fc-button").removeAttr("title"),e("#wcrp-rental-products-rentals-calendar .fc-button").addClass("button"),e("#wcrp-rental-products-rentals-calendar .fc-button").removeClass("fc-button"),e("#wcrp-rental-products-rentals-calendar .fc-button-primary").removeClass("fc-button-primary"),e("#wcrp-rental-products-rentals-calendar .fc-button-active").addClass("button-primary"),e("#wcrp-rental-products-rentals-calendar .fc-button-active").removeClass("fc-button-active"),e("#wcrp-rental-products-rentals-calendar .fc-today-button").addClass("button-primary"),e("#wcrp-rental-products-rentals-calendar .fc-today-button").removeClass("fc-today-button")}if(e(document).on("click","#wcrp-rental-products-add-rental-products",(function(r){if("yes"==e(this).attr("data-new-order"))notice=t("Order must be created initially before rental products can be added. You can create the order as pending initially and then change the order status as required once the order is populated.","wcrp-rental-products"),notice+="\n\n"+t("The order must be created because rental items added are reserved immediately which requires the order to exist, they are reserved immediately to ensure availability is correct for both this order and customers currently using the store.","wcrp-rental-products"),alert(notice);else if(notice=t("A popup will now open, navigate to rental products and click the add to order button from the product page. Once finished close the popup to automatically refresh the items within this order.","wcrp-rental-products"),notice+="\n\n"+t("For non-rentals cancel this prompt and use the add product(s) button instead.","wcrp-rental-products"),"yes"==e(this).attr("data-addons")&&(notice+="\n\n"+a(t("Add-ons that have been configured via the %s extension cannot be applied due to order management limitations of it, if you require these to be applied consider the use of a shop as customer extension in your order management workflow.","wcrp-rental-products"),"WooCommerce Product Add-ons")),"yes"==e(this).attr("data-deposits-partial-payments")&&(notice+="\n\n"+a(t("Deposits and partial payments that have been configured via the %s extension cannot be applied using this method due to limitations of that extension, if you require these to be applied then consider the use of a shop as customer extension in your order management workflow.","wcrp-rental-products"),"Deposits & Partial Payments for WooCommerce")),"undefined"==typeof addRentalProductsPopup?1==confirm(notice)?addRentalProductsPopupDo=!0:addRentalProductsPopupDo=!1:addRentalProductsPopupDo=!0,1==addRentalProductsPopupDo){var n=!1,_=window.top.outerHeight/2+window.top.screenY-320,s=window.top.outerWidth/2+window.top.screenX-480;"undefined"==typeof addRentalProductsPopup||addRentalProductsPopup.closed?(n=!0,addRentalProductsPopupFocus=!0):addRentalProductsPopupFocus=!0,1==n&&(addRentalProductsPopup=window.open(e(this).attr("data-url"),"wcrp-rental-products-add-rental-products-popup-"+e(this).attr("data-order-id"),"width=960, height=640, top="+_+", left="+s)),1==addRentalProductsPopupFocus&&addRentalProductsPopup.focus();var c=setInterval((function(){addRentalProductsPopup.closed&&(clearInterval(c),e("#woocommerce-order-items").trigger("wc_order_items_reload"))}),250)}})),e("#woocommerce-order-items").on("click","#order_line_items .item.wcrp-rental-products-order-item-is-rental .wc-order-edit-line-item .wc-order-edit-line-item-actions .delete-order-item",(function(e){alert(t("Any rental stock reserved for this item will be made available again, no manual action is required to make it available, regardless of any prompts to do so.","wcrp-rental-products"))})),e("body").on("click","#wcrp-rental-products-panel-rental-product-info",(function(t){t.preventDefault(),e("#wcrp-rental-products-panel-rental-product-info-expand").slideToggle()})),e("body").on("click","#wcrp-rental-products-panel-advanced-pricing-info",(function(t){t.preventDefault(),e("#wcrp-rental-products-panel-advanced-pricing-info-expand").slideToggle()})),e("body").on("click","#wcrp-rental-products-panel-in-person-pick-up-return-date-info",(function(t){t.preventDefault(),e("#wcrp-rental-products-panel-in-person-pick-up-return-date-info-expand").slideToggle()})),s(),e("#_wcrp_rental_products_pricing_type").on("change",(function(e){s()})),e("#_wcrp_rental_products_pricing_period").on("change keyup keydown",(function(e){s()})),e("#_wcrp_rental_products_pricing_period_multiples").on("change",(function(e){s()})),e("#_wcrp_rental_products_price_additional_periods_percent").on("change",(function(e){s()})),e("#_wcrp_rental_products_pricing_tiers").on("change",(function(e){c()})),c(),e("body").on("click","#wcrp-rental-products-pricing-tiers-data-add-pricing-tier",(function(t){t.preventDefault();var r=this,n=e(r).text();e(this).text(e(r).attr("data-click-text")).attr("disabled",!0),e("#wcrp-rental-products-pricing-tiers-data div:last-of-type").clone().appendTo("#wcrp-rental-products-pricing-tiers-data"),e("#wcrp-rental-products-pricing-tiers-data div:last-of-type").hide().show(),i(),setTimeout((function(){e(r).text(n).attr("disabled",!1)}),250)})),e("body").on("click",".wcrp-rental-products-pricing-tiers-data-remove-pricing-tier",(function(t){t.preventDefault(),confirm(e(this).attr("data-alert-text"))&&(e(this).text(e(this).attr("data-click-text")).attr("disabled",!0),e(this).closest("div").remove(),i())})),e("body").on("change",".wcrp-rental-products-pricing-tiers-data-days, .wcrp-rental-products-pricing-tiers-data-percent",(function(t){""===e(this).val().trim()&&(e(this).hasClass("wcrp-rental-products-pricing-tiers-data-days")?e(this).val(e(this).attr("min")):e(this).hasClass("wcrp-rental-products-pricing-tiers-data-percent")&&e(this).val("0"))})),i(),o(),e(document).on("change","#_wcrp_rental_products_pricing_type",(function(){o()})),e(document).on("change","#_wcrp_rental_products_pricing_period",(function(){o()})),e(document).on("change","#_wcrp_rental_products_in_person_pick_up_return",(function(){o()})),e(document).on("change","#_wcrp_rental_products_in_person_return_date",(function(){o()})),e(document).on("change","#_wcrp_rental_products_minimum_days",(function(){o()})),e(document).on("change","#_wcrp_rental_products_maximum_days",(function(){o()})),e("#_wcrp_rental_products_in_person_pick_up_return").on("change",(function(e){o()})),e("#_wcrp_rental_products_in_person_return_date").on("change",(function(e){o()})),p(),e("#_wcrp_rental_products_disable_addons_rental_purchase_rental").on("change",(function(e){p()})),e("#_wcrp_rental_products_disable_addons_rental_purchase_purchase").on("change",(function(e){p()})),d(),e("body").on("change","#product-type",(function(e){d()})),e("body").on("click","#wcrp-rental-products-rental-price-shortcut a, #wcrp-rental-products-rental-stock-shortcut a",(function(t){t.preventDefault();var r=!1;"#variable"==e(this).attr("href")?(e(".wc-tabs .variations_options a").trigger("click"),r=!0):"#general"==e(this).attr("href")?(e(".wc-tabs .general_options a").trigger("click"),r=!0):"#inventory"==e(this).attr("href")&&(e(".wc-tabs .inventory_options a").trigger("click"),r=!0),1==r&&window.scrollTo({top:e("#woocommerce-product-data").offset().top-(e(".woocommerce-layout__header").length?e(".woocommerce-layout__header").height():0),left:0})})),e("body").on("click","#wcrp-rental-products-add-ons-shortcut",(function(t){t.preventDefault(),e(".product_data_tabs .addons_tab a").trigger("click"),window.scrollTo({top:e("#woocommerce-product-data").offset().top-(e(".woocommerce-layout__header").length?e(".woocommerce-layout__header").height():0),left:0})})),e("#wcrp-rental-products-rentals-calendar-calendar-feed").on("click",(function(r){r.preventDefault(),prompt(t("In your calendar application, subscribe to this feed URL:","wcrp-rental-products"),e("#wcrp-rental-products-rentals-calendar-calendar-feed").attr("data-feed-url"))})),l(),e("#wcrp-rental-products-rentals-calendar").on("click",(function(){l()})),e("#wcrp-rental-products-rentals-calendar-filter-color-key, #wcrp-rental-products-rentals-calendar-filter-order-status").on("change",(function(t){"wcrp-rental-products-rentals-calendar-filter-color-key"==e(this).attr("id")?"all"==e(this).val()?e("#wcrp-rental-products-rentals-calendar-filter-color-key-inline-css").html(""):e("#wcrp-rental-products-rentals-calendar-filter-color-key-inline-css").html("<style>.wcrp-rental-products-rentals-fc-event:not( .wcrp-rental-products-rentals-fc-event-key-"+e(this).val()+' )[class*="wcrp-rental-products-rentals-fc-event-key-"] { display: none; }</style>'):"all"==e(this).val()?e("#wcrp-rental-products-rentals-calendar-filter-order-status-inline-css").html(""):e("#wcrp-rental-products-rentals-calendar-filter-order-status-inline-css").html("<style>.wcrp-rental-products-rentals-fc-event:not( .wcrp-rental-products-rentals-fc-event-order-status-"+e(this).val()+' )[class*="wcrp-rental-products-rentals-fc-event-order-status-"] { display: none; }</style>'),e(".fc-prev-button").trigger("click"),e(".fc-next-button").trigger("click")})),e("#wcrp-rental-products-rentals-calendar-search").on("input",(function(t){e("#wcrp-rental-products-rentals-calendar-search-inline-css").html(""),""!==e(this).val()&&e("#wcrp-rental-products-rentals-calendar-search-inline-css").html('<style>.wcrp-rental-products-rentals-fc-event:not([title*="'+e(this).val()+'" i]) { display: none !important; }</style>'),e(".fc-prev-button").trigger("click"),e(".fc-next-button").trigger("click")})),e("body").on("click",".fc-toggleRentals-button, .fc-toggleReturnsExpected-button",(function(t){e(this).hasClass("fc-toggleRentals-button")?"1"==e(this).attr("toggle-rentals")?(e("#wcrp-rental-products-rentals-calendar-toggle-rentals-inline-css").html(""),e(this).attr("toggle-rentals","0")):(e("#wcrp-rental-products-rentals-calendar-toggle-rentals-inline-css").html("<style>.wcrp-rental-products-rentals-fc-event-type-rental { display: none !important; }</style>"),e(this).attr("toggle-rentals","1")):"1"==e(this).attr("toggle-returns-expected")?(e("#wcrp-rental-products-rentals-calendar-toggle-returns-expected-inline-css").html(""),e(this).attr("toggle-returns-expected","0")):(e("#wcrp-rental-products-rentals-calendar-toggle-returns-expected-inline-css").html("<style>.wcrp-rental-products-rentals-fc-event-type-return { display: none !important; }</style>"),e(this).attr("toggle-returns-expected","1")),e(".fc-prev-button").trigger("click"),e(".fc-next-button").trigger("click")})),e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-from").on("change",(function(t){""!==e(this).val()?(e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-which").show(),e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-to").show()):(e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-which").hide(),e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-to").hide())})),e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-which-select-deselect").on("click",(function(r){r.preventDefault(),"select"==e(this).attr("data-action")?(e('#wcrp-rental-products-rentals-tools-clone-rental-product-options-which input[type="checkbox"]').prop("checked",!0),e(this).text(t("Deselect all","wcrp-rental-products")),e(this).attr("data-action","deselect")):(e('#wcrp-rental-products-rentals-tools-clone-rental-product-options-which input[type="checkbox"]').prop("checked",!1),e(this).text(t("Select all","wcrp-rental-products")),e(this).attr("data-action","select"))})),e('#wcrp-rental-products-rentals-tools-clone-rental-product-options-to input[type="radio"][name="wcrp_rental_products_rentals_tools_clone_rental_product_options_to"]').on("change",(function(t){"all_products_in_specific_categories"==e(this).val()||"all_rental_products_in_specific_categories"==e(this).val()?e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-to-categories-select").show():e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-to-categories-select").hide(),"products"==e(this).val()?e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-to-products-select").show():e("#wcrp-rental-products-rentals-tools-clone-rental-product-options-to-products-select").hide()})),e("body").on("click","#wcrp-rental-products-rentals-tools-clone-rental-product-options-submit",(function(t){confirm(e(this).attr("data-alert-text"))||t.preventDefault()})),e("body").on("click","#wcrp-rental-products-rentals-tools-rental-products-debug-fix",(function(t){confirm(e(this).attr("data-alert-text"))||t.preventDefault()})),e("body").hasClass("woocommerce_page_wc-settings")){function u(){e("#wcrp_rental_products_rental_form_calendar_custom_styling").is(":checked")?e("#wcrp_rental_products_rental_form_calendar_custom_styling_code").closest("tr").show():e("#wcrp_rental_products_rental_form_calendar_custom_styling_code").closest("tr").hide()}e("body").on("click","#wcrp-rental-products-rental-form-calendar-custom-styling-reset",(function(r){if(r.preventDefault(),e("#wcrp_rental_products_rental_form_calendar_custom_styling").is(":checked")){var n=e("#wcrp_rental_products_rental_form_calendar_custom_styling").attr("data-reset");e("#wcrp_rental_products_rental_form_calendar_custom_styling_code").val(n),alert(t("Rental form calendar custom styling code has been reset to the defaults. Remember to save settings.","wcrp-rental-products"))}else alert(t("Cannot reset to defaults as rental form calendar custom styling is disabled.","wcrp-rental-products"))})),u(),e("#wcrp_rental_products_rental_form_calendar_custom_styling").on("change",(function(e){u()}))}if(e("body").hasClass("woocommerce_page_wc-settings")){function w(){"same_day"==e("#wcrp_rental_products_in_person_return_date").val()?(e("#wcrp_rental_products_in_person_pick_up_times_fees_same_day").closest("tr").show(),e("#wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day").closest("tr").show(),e("#wcrp_rental_products_in_person_return_times_fees_same_day").closest("tr").show(),e("#wcrp_rental_products_in_person_return_times_fees_single_day_same_day").closest("tr").show(),e("#wcrp_rental_products_in_person_pick_up_times_fees_next_day").closest("tr").hide(),e("#wcrp_rental_products_in_person_return_times_fees_next_day").closest("tr").hide()):(e("#wcrp_rental_products_in_person_pick_up_times_fees_same_day").closest("tr").hide(),e("#wcrp_rental_products_in_person_pick_up_times_fees_single_day_same_day").closest("tr").hide(),e("#wcrp_rental_products_in_person_return_times_fees_same_day").closest("tr").hide(),e("#wcrp_rental_products_in_person_return_times_fees_single_day_same_day").closest("tr").hide(),e("#wcrp_rental_products_in_person_pick_up_times_fees_next_day").closest("tr").show(),e("#wcrp_rental_products_in_person_return_times_fees_next_day").closest("tr").show())}w(),e("#wcrp_rental_products_in_person_return_date").on("change",(function(e){w()}))}function f(){e(".wcrp-rental-products-value-colon-price-validation").length>0&&(e(".wcrp-rental-products-value-colon-price-validation").next(".notice").remove(),e(".wcrp-rental-products-value-colon-price-validation").each((function(r,n){if(""!==e(n).val()){var _=!1,s=!1,c=e(n).attr("data-validation-type"),i=e(n).attr("data-price-decimal-separator"),o=e(n).val(),p=o.split("|");if(/\r|\n/.exec(o))switch(_=!0,c){case"pricing_period_additional_selections":s=a(t("Invalid, pricing period additional selections should be entered on a single line, separate multiple pricing period additional selections with the %1$s character, e.g. 3:5%2$s00|7:10%2$s00.","wcrp-rental-products"),"|",i);break;case"times_fees":s=a(t("Invalid, times/fees should be entered on a single line, separate multiple times/fees with the %1$s character, e.g. 1000:0%2$s00|1400:10%2$s00.","wcrp-rental-products"),"|",i);break;case"total_overrides":s=a(t("Invalid, total overrides should be entered on a single line, separate multiple total overrides with the %1$s character, e.g. 1:5%2$s00|2:10%2$s00.","wcrp-rental-products"),"|",i);break;default:s=t("Invalid.","wcrp-rental-products")}else e(p).each((function(e,r){var n=(r=r.split(":"))[0],o=r[1];if(void 0!==n&&void 0!==o)switch(c){case"pricing_period_additional_selections":var p=/^\d+$/.test(n)&&parseInt(n)>0,d=new RegExp(`^\\d+\\${i}\\d+$`).test(o);0!=p&&0!=d||(_=!0,s=a(t("Invalid, ensure pricing periods entered are in digits, and prices entered include the %1$s decimal separator, e.g. 3:5%1$s00.","wcrp-rental-products"),i));break;case"times_fees":var l=/^\d+$/.test(n)&&4==n.length&&parseInt(n)<=2400,u=new RegExp(`^\\d+\\${i}\\d+$`).test(o);0!=l&&0!=u||(_=!0,s=a(t("Invalid, ensure times entered are 4 digits, and fees entered include the %1$s decimal separator, e.g. 1000:0%1$s00.","wcrp-rental-products"),i));break;case"total_overrides":var w=/^\d+$/.test(n)&&parseInt(n)>0;d=new RegExp(`^\\d+\\${i}\\d+$`).test(o);0!=w&&0!=d||(_=!0,s=a(t("Invalid, ensure days entered are in digits, and totals entered include the %1$s decimal separator, e.g. 3:5%1$s00.","wcrp-rental-products"),i))}else switch(_=!0,c){case"pricing_period_additional_selections":s=a(t("Invalid, enter pricing period additional selections in the format 1:5%1$s00 (single) or 3:5%1$s00|7:10%1$s00 (multiple).","wcrp-rental-products"),i);break;case"times_fees":s=a(t("Invalid, enter times/fees in the format 1000:0%1$s00 (single) or 1000:0%1$s00|1400:10%1$s00 (multiple).","wcrp-rental-products"),i);break;case"total_overrides":s=a(t("Invalid, enter total overrides in the format 1:5%1$s00 (single) or 1:5%1$s00|2:10%1$s00 (multiple).","wcrp-rental-products"),i);break;default:s=t("Invalid.","wcrp-rental-products")}}));0==_&&"times_fees"==c&&(s="Remember to manually check pick up times are lower or higher than return times as per the tooltip information, except if unrestricted."),!1!==s&&e('<div class="notice notice-'+(1==_?"error":"success")+' inline"><p>'+s+"</p></div>").insertAfter(n)}})))}e(".wcrp-rental-products-disable-dates-picker").each((function(t,r){e(r).attr("readonly",!0).css("background-color","#ffffff");var n=e(r).val().split(",");e(r).datepicker({dateFormat:"yy-mm-dd",beforeShow:function(){e("#ui-datepicker-div").addClass("wcrp-rental-products-disable-dates-picker-widget")},onSelect:function(t){var _=jQuery.inArray(t,n);_>=0?n.splice(_,1):e.inArray(t,n)<0&&n.push(t),n=n.filter((e=>e)),e(r).val(n.sort()),e(this).data("datepicker").inline=!0},onClose:function(){e(this).data("datepicker").inline=!1},beforeShowDay:function(t){return e.inArray(e.datepicker.formatDate(e(this).datepicker("option","dateFormat"),t),n)>=0?[!0,"ui-state-disabled"]:[!0,""]}})})),f(),e(document).on("change keyup keydown",".wcrp-rental-products-value-colon-price-validation",(function(){f()})),e(document).on("woocommerce_variations_loaded",(function(){f()})),e(document).on("woocommerce_variations_added",(function(){f()})),e(".wcrp-rental-products-single-date-picker").each((function(t,r){"today"==e(r).attr("data-from")?e(r).datepicker({dateFormat:"yy-mm-dd",minDate:0}):e(r).datepicker({dateFormat:"yy-mm-dd"})}))}));
//# sourceMappingURL=admin.min.js.map